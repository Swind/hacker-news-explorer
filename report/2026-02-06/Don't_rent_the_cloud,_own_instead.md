---
story_id: 46896146
hn_url: https://news.ycombinator.com/item?id=46896146
title: "Don't rent the cloud, own instead"
verdict: interesting
created_at: 2026-02-06T08:29:17
---

---
story_id: 46896146
hn_url: https://news.ycombinator.com/item?id=46896146
title: "Don't rent the cloud, own instead"
verdict: interesting
created_at: 2026-02-06
---

# 2026-02-06: Don't rent the cloud, own instead

**來源：** Hacker News
**故事 ID：** 46896146
**Hacker News 連結：** https://news.ycombinator.com/item?id=46896146
**網址：** https://blog.comma.ai/datacenter/
**分數：** 1136 | **評論數：** 467

## 摘要

comma.ai 分享了自建 $500 萬資料中心的經驗，主張擁有自有基礎設施比租用雲端更經濟且能帶來更好的工程實踐。他們估計自建資料中心花費約 $5M，而若在雲端執行相同工作負載則需 $25M+。文章詳細介紹了從電力、冷卻到儲存和分散式訓練的完整基礎設施架構。

## 為什麼有趣

這是一個**罕見且深入的自建資料中心案例研究**，具有重要的基礎設施和商業意義：

1. **打破雲端迷思**：實際數據顯示自建比雲端便宜 5 倍以上
2. **工程哲學**：自建設施迫使工程師優化程式碼效率，而非直接增加預算
3. **ML 特定需求**：機器學習工作負載（穩定的計算和儲存需求）特別適合自建
4. **供應鏈自主**：避免被雲端廠商鎖定，掌控自身命運
5. **完整技術棧**：展示了從硬體到軟體（Slurm、自建儲存、分散式訓練）的完整實現

## 主要討論點

### 雲端 vs 自建的經濟分析

**雲端的隱形成本**：
- 「容易上船、難以下船」的鎖定效應
- 推向過度複雜的架構（microservices、serverless）
- Managed services 鼓勵低效率使用

**自建的經濟優勢**：
- 雲端硬件加價約 3-4 倍
- 自建適合穩定的工作負載（如 ML 訓練）
- 3-5 年分期的硬件成本遠低於雲端長期租用

### 技術架構分析

**comma.ai 的解決方案**：
- 75 台 TinyBox Pro（600 GPUs）
- 4PB SSD 儲存（無冗餘設計）
- San Diego 自然冷卻（節省電力）
- 自建分散式儲存系統 minikeyvalue
- 輕量級任務調度器 Miniray（開源）

**軟體設計哲學**：
- 單一 master 簡化管理
- Monorepo 本地快取同步（2 秒部署）
- 去除冗餘以換取效率（儲存陣列）

### 人力和技能考量

**支持雲端的觀點**：
- 知識可轉移性高（AWS 工程師易尋）
- 24/7 硬體維護由雲端廠商負責
- 適合快速擴張的初創公司

**支持自建的觀點**：
- 雲端工程師人才同樣稀缺
- 企業 IT 系統管理員人才庫更大
- 自建需要更深的技術理解（Watts、bits、FLOPs）

### 中間選項

討論也提到了混合方案：
1. **Cloud**：最小化初期投資，適合快速擴張
2. **Managed Private Cloud**：約比雲端便宜 50%
3. **Rented Bare Metal**（如 Hetzner）：約比雲端便宜 90%
4. **Buy and Colocate**：最低成本，需技能和規模

### 雲端的複雜性陷阱

多位評論者指出雲端架構常見問題：
- 過度使用 managed services 導致成本失控
- 微服務架構增加資料庫和認證負擔
- �雜的 VPC 網絡路由難以追蹤
- 工程師流動造成遺留系統無人理解

## 技術細節

**硬體規模**：
- 電力消耗：450kW（峰值）
- 2025 年電費：$540,112（San Diego 電價 40c/kWh）
- 冷卻：純外部空氣（San Diego 氣候優勢）

**儲存設計**：
- 主陣列：3PB 無冗餘儲存（駕駛資料）
- 快取陣列：300TB 無冗餘（中間結果）
- 模型陣列：有冗餘（儲存訓練模型）
- 讀取速度：~1TB/s（可直接訓練原始資料）

**網路架構**：
- 3 台 100Gbps Z9264F 乙太網路交換器
- 2 台 InfiniBand 交換器（GPU 訓練集群）

## 評價

**值得閱讀**

這是一篇極具價值的技術文章，原因如下：

1. **真實案例數據**：提供了具體的成本分析（$5M vs $25M+）
2. **完整技術棧**：從硬體到軟體的詳細實現
3. **挑戰主流**：質疑「雲端至上」的常規思維
4. **ML 特定視角**：為機器學習工作負載提供替代方案
5. **工程文化啟示**：自建設施如何激發更好的工程實踐

**適合讀者**：
- 考慮自建資料中心的技術決策者
- 對基礎設施成本優化的工程師
- ML/AI 團隊（特別是訓練計算密集型）
- 對供應鏈自主感興趣的創始人

**核心啟示**：雲端不是唯一選項，對於穩定、大規模的計算需求，自建資料中心可能更經濟且更有工程價值。