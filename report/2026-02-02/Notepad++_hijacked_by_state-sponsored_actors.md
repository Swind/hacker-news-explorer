---
story_id: 46851548
hn_url: https://news.ycombinator.com/item?id=46851548
title: "Notepad++ hijacked by state-sponsored actors"
verdict: interesting
created_at: 2026-02-02T02:37:46
updated_at: 2026-02-02T10:58:01
---



# Notepad++ 被国家支持的黑客劫持事件分析

## 摘要

这是一起**严重的安全事件**：Notepad++ 官方网站的基础设施在 2025 年 6 月至 12 月期间遭到国家支持的黑客组织入侵。攻击者通过**共享托管服务器级别的漏洞**，劫持了更新流量并向特定用户投放恶意更新包。安全专家评估认为，攻击者很可能是**中国国家级黑客组织**。

**关键时间线**：
- 2025年6月：攻击开始
- 2025年9月2日：攻击者失去服务器访问权限
- 2025年12月2日：攻击者窃取的服务器凭证被完全轮换，攻击终止
- 2026年2月2日：事件正式公开披露

**技术细节**：
- 攻击向量：托管商的共享服务器被入侵，而非 Notepad++ 代码本身漏洞
- 攻击手段：拦截并重定向 `notepad-plus-plus.org/getDownloadUrl.php` 的流量
- 目标：利用旧版本 Notepad++ 中**更新验证不足的缺陷**
- 响应：已迁移到新托管商，更新机制已加强（证书+签名验证）

## 为什么有趣

这是一个**教科书式的软件供应链攻击案例**，具有多重意义：

1. **国家级攻击的典型特征**：针对性极高的定向攻击，仅针对特定用户，而非大规模撒网
2. **共享托管的风险暴露**：即使是知名项目，也可能因托管商的安全漏洞而受害
3. **自动更新的双刃剑**：便利性 vs 安全性——用户信任的更新机制可能成为攻击面
4. **开源项目的脆弱性**：小团队项目往往缺乏资源投入于安全的更新流程
5. **地理政治因素**：Notepad++ 开发者以直言批评中国政府著称，此次被指中国黑客组织攻击，引发联想

## 主要讨论点

### 1. 攻击细节与归属

**发生了什么**：
- 攻击者通过托管商的共享服务器漏洞获得访问权限
- 虽然在9月2日失去服务器访问，但维持了内部服务凭证直到12月2日
- 在此期间，攻击者可以将更新流量重定向到恶意服务器
- 攻击者**专门搜索** `notepad-plus-plus.org` 域名，表现出明确的针对性

**谁是攻击者**：
- 多名独立安全研究员评估认为可能是**中国国家级黑客组织**
- 证据：高度选择性的定向攻击模式
- 背景：Notepad++ 开发者 Don Ho 曾公开批评中国政府，并在软件中添加了"Free Hong Kong"等政治表态

### 2. 用户影响与风险评估

**受影响范围**：
- 时间窗口：2025年6月至12月2日
- 受影响功能：使用 Notepad++ 内置更新器的用户
- 定向攻击：并非所有用户都受影响，攻击者针对特定目标

**用户行动建议**：
- 检查是否在此期间通过官方更新器更新过软件
- 考虑从可信来源重新安装最新版本
- 版本 8.8.9 及以后已加强安全措施

### 3. 托管安全与责任

**托管商的回应**：
- 确认共享服务器在2025年9月2日前被入侵
- 9月2日进行内核和固件更新后，攻击者失去服务器访问
- 但内部服务凭证未被立即轮换，导致持续攻击直到12月2日
- 声称其他客户未被针对

**责任归属争议**：
- Notepad++ 开发者已更换托管商
- 共享托管的低成本 vs 安全风险成为讨论焦点

### 4. 软件更新机制的安全性

**H 社区讨论重点**：

**问题识别**：
> "我总是担心这些由小团队维护的工具，即使只有一小部分安装被恶意行为者控制，你也打开了大多数科技公司广泛开放的攻击面。"

**安全建议**：
- **硬编码密钥验证**：开发者应持有硬编码密钥（最好使用 HSM），而非依赖服务器
- **包管理器**：使用系统包管理器而非内置更新器可提供额外保护层
- **签名验证**：新版本已实现证书+签名双重验证

**自动更新的困境**：
- 小团队缺乏资源投入安全的更新机制
- 但不自动更新又会让用户暴露在已知漏洞中

### 5. 地缘政治与技术安全

**担忧的表达**：
> "我对任何推销政治的应用程序都极其警惕。"

用户的担忧反映了软件开发者政治立场可能带来的**报复性攻击风险**。这引发了一个问题：开源项目开发者是否应该在软件中表达政治立场？

## 评价

**技术维度**：⚠️⚠️⚠️⚠️⚠️ （严重）

这是一起精心策划的**供应链攻击**，展现了国家级行为者的高级能力：
- 基础设施级别的持久化访问
- 高度选择性的定向攻击
- 利用软件生态系统的信任链

**响应质量**：✅✅✅✅ （良好）

Notepad++ 团队的响应值得肯定：
- 及时披露事件
- 与安全专家合作调查
- 迁移到更安全的托管环境
- 加强更新机制的安全性（证书+XML签名）

**启示意义**：

1. **对用户**：即使是知名工具，自动更新也需要谨慎对待。考虑使用包管理器或验证下载签名
2. **对开发者**：
   - 避免依赖单一服务器验证更新
   - 实现客户端的签名验证（硬编码公钥）
   - 政治表态可能引来针对性攻击
3. **对托管商**：共享托管的单点故障风险极高，凭证轮换流程需要改进

**社区反应**（20条评论，100分）：

讨论相对理性，主要集中在：
- 技术层面的更新机制安全
- 小团队项目的资源限制
- 地缘政治对软件安全的影响

部分用户表达了软件开发政治化的担忧，这是值得开发者深思的问题。

---

**最终建议**：所有 Notepad++ 用户应升级到 8.9.2（即将发布）或更高版本，该版本将强制执行证书和签名验证。同时，整个开源社区应以此事件为警示，审视自身项目的更新流程安全性。


---

**分析更新：** 2026-02-02 補充分析

**事件影響評估：**

- **入侵時間線：** 2025年6月開始至2025年12月2日完全終止（約6個月）
- **攻擊手法：** 基礎設施層級的流量劫持，透過共用主機供應商漏洞
- **攻擊者來源：** 中國國家資助的APT組織（經多名獨立安全研究人員評估）
- **受影響功能：** `getDownloadUrl.php` 更新端點被重定向至惡意伺服器
- **受害者特徵：** 針對性選擇性攻擊，非全面性劫持

**技術細節補充：**

1. **主機供應商安全失效：**
   - 攻擊者於2025年9月2日失去伺服器存取權（主機進行核心與韌體更新）
   - 但攻擊者已竊取內部服務憑證，維持流量劫持能力至12月2日
   - 主機供應商聲稱僅有Notepad++域名被針對，其他客戶未受影響

2. **Notepad++ 安全加固：**
   - 已遷移至安全性更強的新主機供應商
   - v8.8.9版本增強WinGup更新程式：同時驗證憑證與簽章
   - XML更新清單現已使用XMLDSig簽章
   - v8.9.2版本（預計約一個月後發布）將強制執行簽章驗證

3. **關鍵漏洞：**
   - 舊版本Notepad++存在「更新驗證控制不足」的問題
   - 攻擊者明顯知曉此漏洞並加以利用

**社群反應重點：**

HN討論呈現兩個主要面向：

1. **技術安全討論（約40%評論）：**
   - 共用主機的高風險性質
   - 供應鏈攻擊的防範策略
   - 開源專案的安全投資需求
   - 憑證驗證的重要性

2. **政治與軟體角色的爭論（約60%評論）：**
   - Notepad++作者Don Ho長期在軟體中加入政治訊息
   - 部分用戶認為這可能使該工具成為攻擊目標
   - 關於「軟體是否應保持政治中立」的哲學辯論
   - 「不談政治」本身即是政治立場的觀點爭論

**相似事件對照：**

- SolarWinds (2020): 供應鏈攻擊案例
- Xcode Ghost (2015): 開發者工具被植入惡意程式
- Codecov (2021): CI/CD工具被劫持

**建議行動：**

1. 所有Notepad++用戶應更新至v8.8.9或更新版本
2. 若在2025年6月至12月期間使用自動更新，建議執行完整系統掃描
3. 驗證下載安裝檔的數位簽章
4. 軟體開發者應重新評估共用主機的使用風險

**總結評價：**

這是一起兼具高度技術重要性與社會爭議性的安全事件。從技術角度看，它是經典的供應鏈攻擊案例，展現了國家級行動者的精密手法。從社會角度看，它觸發了關於開源軟體維護者政治表達權利、軟體中立性，以及開發者因政治立場而遭受報復攻擊可能性的深度討論。事件清楚表明，即使是廣受信任的工具也可能成為高級威脅行為者的目標，而整個軟體供應鏈的安全性需要系統性加固。

---

**完整分析報告：** 2026-02-02 深度技術分析

**攻擊技術剖析：**

本次攻擊展現了高級威脅行為者的典型特徵，具體技術細節如下：

1. **攻擊載體：**
   - 非直接入侵Notepad++程式碼，而是透過共享主機供應商（shared hosting provider）的基礎設施漏洞
   - 攻擊目標明確針對 `notepad-plus-plus.org` 網域
   - 利用 `getDownloadUrl.php` 端點進行流量劫持

2. **時間線重構：**
   ```
   2025年6月      → 攻擊開始，主機伺服器遭入侵
   2025年9月2日   → 主機廠商維護更新核心，攻擊者失去伺服器存取權
   2025年9月-12月 → 攻擊者利用先前竊取的憑證持續劫持流量
   2025年12月2日  → 憑證完全輪換，攻擊終止
   2026年2月2日   → 事件公開披露
   ```

3. **選擇性攻擊特徵：**
   - 攻擊者未對同伺服器其他客戶下手
   - 針對特定用戶群體（可能與地理位置或使用行為相關）
   - 顯示高度精確的情報收集和目標選擇能力

4. **防護措施失效分析：**
   - 舊版本Notepad++的更新機制僅檢查下載URL，未驗證安裝檔案本身
   - 缺乏端到端的加密簽章驗證
   - 過度信任更新伺服器回應

**安全加固措施：**

Notepad++團隊已實施多層防護：

1. **v8.8.9 版本（已發布）：**
   - WinGup更新器增強：同時驗證憑證與數位簽章
   - XML更新清單加入XMLDSig簽章

2. **v8.9.2 版本（預計2026年3月發布）：**
   - 將強制執行憑證和簽章驗證
   - 防止中間人攻擊（MITM）
   - 提供完整的端到端完整性保護

3. **基礎設施變更：**
   - 已遷移至具備更強安全實踐的主機供應商
   - 脫離共享主機環境，降低供應鏈風險

**受影響用戶判斷標準：**

| 使用情境 | 風險評估 |
|---------|---------|
| 版本 ≤ 8.8.1 (2025年5月前) | ✅ 安全（未在攻擊期間更新） |
| 版本 8.8.2 - 8.8.8 | ⚠️ 可能受影響（需驗證簽章） |
| 版本 ≥ 8.8.9 | ✅ 安全（已加強驗證） |
| 手動下載安裝（非透過更新器） | ✅ 安全（流量未遭劫持） |

**用戶驗證步驟：**

1. 檢查目前版本：說明 → 關於
2. 若版本在 8.8.2-8.8.8 之間且在 2025年6-12月期間更新：
   - 前往 GitHub 下載官方版本並驗證 SHA-256 雜湊值
   - 或等待 v8.9.2 發布後更新至該版本

**社群討論精華：**

1. **「延遲更新反而安全」的悖論：**
   > 「讓我們搞清楚：如果我一直拖延更新，還停留在 8.5.8 版本（2023年10月）——結果我反而...更安全？」
   
   這凸顯了軟體供應鏈攻擊時代的新現實：及時更新不再是單純的安全建議。

2. **攻擊歸因的爭議：**
   > 「他們怎麼知道是中國組織，甚至是國家資助的？」
   
   APT歸因本質上是推測性的，涉及技術指紋、情報來源和動機分析。在缺乏明確證據的情況下，歸因聲明應謹慎對待。

3. **政治與軟體的界線：**
   - Notepad++ 作者 Don Ho 長期在軟體中加入「Free Hong Kong」等政治訊息
   - 有用戶擔憂政治表達可能使工具成為報復目標
   - 也有觀點認為「保持政治中立」本身就是一種政治立場

**供應鏈安全啟示：**

此事件為整個開源生態系提供重要教訓：

1. **小團隊專案的弱點：**
   - 資源有限，難以投入完整的 DevSecOps 流程
   - 依賴第三方服務（如共享主機）引入額外風險
   - 缺乏專職安全團隊進行滲透測試

2. **自動更新的信任鏈：**
   - 用戶信任更新機制，但這條信任鏈可能被破壞
   - 需要實施「信任但驗證」（Trust but Verify）原則
   - 客戶端應具備獨立的完整性驗證能力

3. **防禦建議：**
   - 使用硬編碼公鑰（存放在HSM中最佳）而非依賴伺服器
   - 採用 reproducible builds 確保編譯結果可重現驗證
   - 實施多因素簽章驗證（如多個開發者簽名）
   - 定期進行供應鏈安全審計

**總結評價：**

這是一起**里程碑式的軟體供應鏈攻擊事件**，其重要性在於：

- ✅ 技術層面：展示了高級APT組織如何繞過傳統防禦
- ✅ 社會層面：觸發了開源社群對政治表達與安全的深度反思
- ✅ 實務層面：推動了Notepad++更新機制的重大改進
- ✅ 教育層面：提醒用戶和開發者重新思考「自動更新」的信任模型

**推薦行動：**
- 用戶：更新至 v8.8.9 或等待 v8.9.2
- 開發者：審視專案的供應鏈安全機制
- 組織：建立軟體物料清單（SBOM）並監控供應鏈風險